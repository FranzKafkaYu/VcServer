## ADDED Requirements

### Requirement: SSH 密码认证
系统 SHALL 支持使用用户名和密码进行 SSH 连接认证。

#### Scenario: 密码认证成功
- **WHEN** 用户提供有效的服务器信息（主机、端口、用户名、密码）
- **AND** 用户选择密码认证方式
- **AND** 系统发起 SSH 连接
- **THEN** 系统使用提供的凭据建立 SSH 连接
- **AND THEN** 系统返回连接成功状态
- **AND THEN** 系统可以保持连接用于后续操作

#### Scenario: 密码认证失败 - 无效凭据
- **WHEN** 用户提供无效的用户名或密码
- **AND** 系统发起 SSH 连接
- **THEN** 系统检测到认证失败
- **AND THEN** 系统返回认证错误信息
- **AND THEN** 系统不建立连接

#### Scenario: 密码认证失败 - 网络错误
- **WHEN** 用户提供有效的服务器信息
- **AND** 系统发起 SSH 连接
- **AND** 网络连接失败（主机不可达、端口关闭等）
- **THEN** 系统检测到网络错误
- **AND THEN** 系统返回网络错误信息
- **AND THEN** 系统不建立连接

### Requirement: SSH 密钥认证
系统 SHALL 支持使用 SSH 私钥进行连接认证。

#### Scenario: 密钥认证成功
- **WHEN** 用户提供有效的服务器信息（主机、端口、用户名、SSH 私钥）
- **AND** 用户选择密钥认证方式
- **AND** 系统发起 SSH 连接
- **THEN** 系统使用提供的私钥建立 SSH 连接
- **AND THEN** 系统返回连接成功状态
- **AND THEN** 系统可以保持连接用于后续操作

#### Scenario: 密钥认证成功 - 带密码保护的私钥
- **WHEN** 用户提供有效的服务器信息和带密码保护的 SSH 私钥
- **AND** 用户提供正确的私钥密码
- **AND** 系统发起 SSH 连接
- **THEN** 系统使用私钥密码解密私钥
- **AND THEN** 系统使用解密后的私钥建立 SSH 连接
- **AND THEN** 系统返回连接成功状态

#### Scenario: 密钥认证失败 - 无效私钥
- **WHEN** 用户提供无效的 SSH 私钥（格式错误、密钥不匹配等）
- **AND** 系统发起 SSH 连接
- **THEN** 系统检测到密钥认证失败
- **AND THEN** 系统返回认证错误信息
- **AND THEN** 系统不建立连接

#### Scenario: 密钥认证失败 - 私钥密码错误
- **WHEN** 用户提供带密码保护的 SSH 私钥
- **AND** 用户提供错误的私钥密码
- **AND** 系统发起 SSH 连接
- **THEN** 系统检测到私钥解密失败
- **AND THEN** 系统返回私钥密码错误信息
- **AND THEN** 系统不建立连接

### Requirement: SSH 连接测试
系统 SHALL 提供连接测试功能，允许用户在保存服务器信息前验证连接是否成功。

#### Scenario: 连接测试成功
- **WHEN** 用户输入服务器信息
- **AND** 用户点击连接测试按钮
- **AND** 服务器信息有效且认证成功
- **THEN** 系统建立 SSH 连接
- **AND THEN** 系统立即关闭测试连接
- **AND THEN** 系统显示连接测试成功提示

#### Scenario: 连接测试失败
- **WHEN** 用户输入服务器信息
- **AND** 用户点击连接测试按钮
- **AND** 连接失败（网络错误、认证失败等）
- **THEN** 系统显示连接测试失败的错误信息
- **AND THEN** 系统不保存服务器信息

### Requirement: SSH 连接超时处理
系统 SHALL 在连接超时时返回适当的错误信息。

#### Scenario: 连接超时
- **WHEN** 系统发起 SSH 连接
- **AND** 连接在指定时间内（例如 30 秒）未建立
- **THEN** 系统取消连接尝试
- **AND THEN** 系统返回连接超时错误信息


